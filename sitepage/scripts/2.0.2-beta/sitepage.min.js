/*!
 sitepage.js - v2.0.2-beta
* https://github.com/pixelbyaj/SitePage
* @author Abhishek Joshi
* @license MIT*/
var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,l=r.length;o<l;o++,i++)a[i]=r[o];return a},SitePage=function(c,e){if(!c)throw"Page element not found";var d=document,u=d.getElementById(c);if(!u)throw"Page element not found";var v={brandName:"sitePage",backgroundColor:"#fc6c7c",anchors:!0,menuId:"sp-menu",verticalAlignMiddle:!0,sections:[],navigation:"vertical",autoScrolling:!0,keyboardNavigation:!0,scrollbar:!1,transitionSpeed:1e3,easing:"ease",sameurl:!0,pageTransitionStart:function(e,t){},pageTransitionEnd:function(e){}};e&&(v=__assign(__assign({},v),e));var n,o,r,l=2,s=[],g=0,h=[],a=0,p=!0,b={setInitialStyle:function(){u.style.transform="translate3d(0px, 0px, 0px)",u.classList.add("sp-wrapper"),d.querySelector("body").style.backgroundColor=v.backgroundColor},setSectionClass:function(e){e.classList.add("sp-section")},setSectionHeight:function(e){e.style.height=window.innerHeight+"px"},setSectionHorizontal:function(e){e.style.width=100*h.length+"%",e.classList.add("sp-floatLeft"),e.querySelectorAll(".section").forEach(function(e){e.classList.add("sp-floatLeft"),e.style.width=100/h.length+"%"})},getCellElement:function(e,t){var n,a=d.createElement("div");return a.setAttribute("class","sp-cell"),v.verticalAlignMiddle&&(void 0!==t&&!t||e.push.apply(e,["align-middle","text-center"])),e&&(n=a.classList).add.apply(n,e),b.setSectionHeight(a),a},setBackgroundColor:function(e,t){e.style.backgroundColor=t},setBrandName:function(e,t){var n,a=d.createElement("span");(n=a.classList).add.apply(n,e);var i=d.createTextNode(t);return a.appendChild(i),a},setNavigationLink:function(e,t,n){var a,i=d.createElement("li");i.classList.add("nav-item");var r=d.createElement("a");(a=r.classList).add.apply(a,e),r.removeEventListener("click",m.navigationClick),r.setAttribute("href","javascript:void(0)"),r.setAttribute("data-href",n),r.addEventListener("click",m.navigationClick);var o=d.createTextNode(t);return r.appendChild(o),i.appendChild(r),i},setHamburgerMenu:function(){var e,t,n=d.createElement("div");n.setAttribute("id",v.menuId),n.classList.add("sp-hb-menu-bar");var a=d.createElement("div");a.classList.add("sp-hb-menu");for(var i=1;i<=3;i++){var r=d.createElement("div");r.setAttribute("id","bar"+i),r.classList.add("bar"),v.hamburger?v.hamburger.lineColor&&(r.style.backgroundColor=v.hamburger.lineColor):r.classList.add("bar-color"),a.appendChild(r)}n.appendChild(a);var o=d.createElement("ul");o.classList.add("sp-hb-nav"),n.appendChild(o);var l=d.createElement("div");if(l.setAttribute("id","sp-hb-menu-bg"),l.classList.add("sp-hb-menu-bg"),v.hamburger.backgroundColor&&(l.style.backgroundColor=v.hamburger.backgroundColor),n.appendChild(l),0<(null===(e=v.brandName)||void 0===e?void 0:e.length)){var s=b.setBrandName(["sp-hb-navbar-brand"],v.brandName);n.appendChild(s)}return null!==(t=d.querySelector("body"))&&void 0!==t&&t.insertBefore(n,d.querySelector("#"+c)),a.addEventListener("click",m.onHamburgerMenuClick),o},setNavigationMenu:function(){var e,t,n,a,i=d.createElement("nav");if((e=i.classList).add.apply(e,["navbar","fixed-top","navbar-expand","navbar-dark","flex-column","flex-md-row","bd-navbar"]),0<(null===(n=v.brandName)||void 0===n?void 0:n.length)){var r=b.setBrandName(["navbar-brand","mb-0","h1"],v.brandName);i.appendChild(r)}var o=d.createElement("div");o.setAttribute("id","navbarNav"),o.classList.add("navbar-nav-scroll");var l=d.createElement("ul");return l.setAttribute("id",v.menuId),(t=l.classList).add.apply(t,["navbar-nav","bd-navbar-nav","flex-row"]),o.appendChild(l),i.appendChild(o),null!==(a=d.querySelector("body"))&&void 0!==a&&a.insertBefore(i,d.querySelector("#"+c)),l},setSection:function(e,t){var n=d.createElement("div");if(n.setAttribute("id","section-"+t),n.classList.add("section"),e.active&&n.classList.add("active"),e.templateUrl){var a='<sp-include url="'+e.templateUrl+'"/>';n.innerHTML=a}else e.template&&(n.innerHTML=e.template);return b.setSectionClass(n),b.setSectionHeight(n),n},fetchView:function(){var e=o.querySelector("sp-include");if(e){var t=e.getAttribute("url");fetch(t).then(function(e){return e.text()}).then(function(e){o.querySelector(".sp-cell").innerHTML=e})}}},f={scrollPageUp:function(){var e="";0<n?e=h[--n]:v.autoScrolling&&(n=h.length-1,e=h[n]),""!==e?f.scrollToSection(e,2):p=!0},scrollPageRight:function(){var e="";0<n?e=h[--n]:v.autoScrolling&&(n=h.length-1,e=h[n]),""!==e?f.scrollToSection(e,1):p=!0},scrollPageDown:function(){var e="";n<h.length-1?e=h[++n]:v.autoScrolling&&(e=h[n=0]),""!==e?f.scrollToSection(e,2):p=!0},scrollPageLeft:function(){var e="";n<h.length-1?e=h[++n]:v.autoScrolling&&(e=h[n=0]),""!==e?f.scrollToSection(e,1):p=!0},scrollToSection:function(e,t){if(o=d.querySelector("[data-anchor='"+e+"']"),n=h.indexOf(e),o){switch(b.fetchView(),u.style.transition="all "+v.transitionSpeed+"ms "+v.easing+" 0s",t){case 1:a=n*window.innerWidth,u.style.transform="translate3d(-"+a+"px, 0px, 0px)";break;case 2:a=n*window.innerHeight,0<o.offsetTop&&(a=a>o.offsetTop?a:o.offsetTop),u.style.transform="translate3d(0px, -"+a+"px, 0px)"}v.sameurl||(location.hash="#"+e)}}},m={keyDown:function(e){switch(e.which){case 37:p&&"horizontal"===v.navigation&&(p=!1,f.scrollPageRight());break;case 38:p&&"vertical"===v.navigation&&(p=!1,f.scrollPageUp());break;case 39:p&&"horizontal"===v.navigation&&(p=!1,f.scrollPageLeft());break;case 40:p&&"vertical"===v.navigation&&(p=!1,f.scrollPageDown())}},mouseWheel:function(e){s.push(g);var t=(e=e||window.event).wheelDelta||-e.deltaY||-e.detail,n=Math.max(-1,Math.min(1,t)),a=void 0!==e.wheelDeltaX||void 0!==e.deltaX,i=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!a;return v.scrollbar&&e.preventDefault(),clearTimeout(r),r=setTimeout(function(){if(p&&g===s.length){p=!1,s=[],g=0,clearInterval(r);var e=w.getAverage(s,10);w.getAverage(s,70)<=e&&i&&(n<0?"vertical"===v.navigation?f.scrollPageDown():f.scrollPageLeft():"vertical"===v.navigation?f.scrollPageUp():f.scrollPageRight())}},100),g=s.length,!1},windowSize:function(){var t;document.querySelectorAll(".section").forEach(function(e){b.setSectionHeight(e),b.setSectionHeight(e.querySelector(".sp-cell")),e.classList.contains("active")&&(t=e.getAttribute("data-anchor"))}),f.scrollToSection(t,l)},transitionStart:function(e){var t,n,a=d.querySelector(".section.active");null!=a&&a.classList.remove("active"),v.pageTransitionStart instanceof Function&&v.pageTransitionStart(a,o);var i=null==a?void 0:a.getAttribute("data-anchor"),r=null==o?void 0:o.getAttribute("data-anchor");null!==(t=d.querySelector(".nav-link[href='#"+i+"']"))&&void 0!==t&&t.classList.remove("active"),null!==(n=d.querySelector(".nav-link[href='#"+r+"']"))&&void 0!==n&&n.classList.add("active")},transitionEnd:function(e){null!=o&&o.classList.add("active"),p=!0,v.pageTransitionEnd instanceof Function&&v.pageTransitionEnd(o)},swipeUp:function(){p&&(p=!1,f.scrollPageDown())},swipeDown:function(){p&&(p=!1,f.scrollPageUp())},swipeLeft:function(){p&&(p=!1,f.scrollPageLeft())},swipeRight:function(){p&&(p=!1,f.scrollPageRight())},navigationClick:function(e){var t,n=e.target.getAttribute("data-href");f.scrollToSection(n,l),!1!==(null===(t=v.hamburger)||void 0===t?void 0:t.closeOnNavigation)&&m.onHamburgerMenuClick()},onHamburgerMenuClick:function(){d.querySelector(".sp-hb-menu").classList.toggle("sp-hb-change"),d.querySelector(".sp-hb-nav").classList.toggle("sp-hb-change"),d.querySelector(".sp-hb-menu-bg").classList.toggle("sp-hb-change-bg")}},w={initSections:function(){var e,t,s;b.setInitialStyle(),v.anchors&&(s=v.hamburger?b.setHamburgerMenu():b.setNavigationMenu()),v.sections.forEach(function(e,t){var n="page"+(t+1),a=b.setSection(e,t+1);a.setAttribute("data-anchor",n);var i=e.sectionClass||[],r=b.getCellElement(i,e.verticalAlignMiddle);if(r.innerHTML=a.innerHTML,a.innerHTML="",a.appendChild(r),u.appendChild(a),h.push(n),v.anchors){var o=["nav-link","text-nowrap"];e.anchorClass&&(o=__spreadArrays(o,e.anchorClass));var l=b.setNavigationLink(o,e.anchor,n);s.appendChild(l)}e.backgroundColor&&b.setBackgroundColor(a,e.backgroundColor)}),"horizontal"===v.navigation.toLowerCase()&&(b.setSectionHorizontal(u),l=1);var n=h[0];if(v.sameurl){var a=document.querySelector(".section.active");null!==a&&(n=a.getAttribute("data-anchor"))}else{var i=null===(e=location.hash)||void 0===e?void 0:e.replace("#","");i&&(n=i)}f.scrollToSection(n,l),null==o||o.getAttribute("data-anchor"),null!==(t=d.querySelector(".nav-link[href='#"+n+"']"))&&void 0!==t&&t.classList.add("active"),w.addEventListeners(u)},addEventListeners:function(e){v.keyboardNavigation&&(document.removeEventListener("keydown",m.keyDown),document.addEventListener("keydown",m.keyDown)),document.removeEventListener("wheel",m.mouseWheel),document.addEventListener("wheel",m.mouseWheel),window.removeEventListener("resize",m.windowSize),window.addEventListener("resize",m.windowSize),e.removeEventListener("transitionstart",m.transitionStart),e.addEventListener("transitionstart",m.transitionStart),e.removeEventListener("transitionend",m.transitionEnd),e.addEventListener("transitionend",m.transitionEnd),1==l?(document.addEventListener("swiped-left",m.swipeLeft),document.addEventListener("swiped-right",m.swipeRight)):(document.addEventListener("swiped-up",m.swipeUp),document.addEventListener("swiped-down",m.swipeDown))},getAverage:function(e,t){for(var n=0,a=e.slice(Math.max(e.length-t,1)),i=0;i<a.length;i++)n+=a[i];return Math.ceil(n/t)}};w.initSections()};!function(e,a){"use strict";"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=a.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},e.CustomEvent.prototype=e.Event.prototype),a.addEventListener("touchstart",function(e){"true"!==e.target.getAttribute("data-swipe-ignore")&&(d=e.target,c=Date.now(),r=e.touches[0].clientX,o=e.touches[0].clientY,s=l=0)},!1),a.addEventListener("touchmove",function(e){if(r&&o){var t=e.touches[0].clientX,n=e.touches[0].clientY;l=r-t,s=o-n}},!1),a.addEventListener("touchend",function(e){if(d===e.target){var t=parseInt(d.getAttribute("data-swipe-threshold")||"20",10),n=parseInt(d.getAttribute("data-swipe-timeout")||"500",10),a=Date.now()-c,i="";Math.abs(l)>Math.abs(s)?Math.abs(l)>t&&a<n&&(i=0<l?"swiped-left":"swiped-right"):Math.abs(s)>t&&a<n&&(i=0<s?"swiped-up":"swiped-down"),""!==i&&d.dispatchEvent(new CustomEvent(i,{bubbles:!0,cancelable:!0})),c=o=r=null}},!1);var r=null,o=null,l=null,s=null,c=null,d=null}(window,document);